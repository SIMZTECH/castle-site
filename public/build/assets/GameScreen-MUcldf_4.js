import{j as e,r as w,l as I}from"./app-CvnXDNqH.js";import"./SwarmDataContext-CvRijnCG.js";import{b as Ne}from"./index-HSfTtyqq.js";import{c as Ce}from"./index-COKPrLgz.js";import"./BetSlipContext-DY6ZC8ri.js";import{u as Se}from"./index-D-9L1GeS.js";import{s as He}from"./DataStoreTemp-iUpixZ7g.js";import{a as we}from"./index-DcIKpsUE.js";import{M as B,E as C}from"./MarketHandlerUtilities-OF4h68Ak.js";import{L as Te}from"./index-BNLB0Gyj.js";import{D as Be}from"./index.module-vqe5uaN8.js";import{f as Ee}from"./index-37nCpuvi.js";import{S as Ue}from"./Skeleton-BY4G3q0P.js";import{S as de}from"./ScaleLoader-BtINLoR6.js";import"./iconBase-709gmDFl.js";import"./animation-RB9YhObT.js";function E({title:s,market_type:u}){return e.jsxs("header",{className:"bg-[#0E76BC] text-white flex items-center gap-1 font-poppins text-[12px] px-2 py-2",children:[e.jsxs("p",{className:"flex items-center gap-1 gap",children:[e.jsx("span",{className:"text-[18px]",children:e.jsx(we,{})}),s]}),e.jsx("p",{children:"|"}),e.jsx("span",{children:u})]})}function Le({events:s,game_infor:u,event_infor:n}){const{onPressGameOddHighlighter:d,isEventIdExistInBetSlip:p}=B(),{id:g,start_ts:i,strong_team:_,team1_name:l,team2_name:f}=u,{market_name:h,market_id:a,market_type:m}=n;function x(t){d(t)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"1X2",title:"Match Result"}),e.jsxs("div",{className:"flex items-center w-full",children:[Object.keys(s).map(t=>e.jsx(e.Fragment,{children:s[t].name=="W1"&&e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==1,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:"1",price:s[t].price},s[t].id)})),Object.keys(s).map(t=>e.jsx(e.Fragment,{children:s[t].name=="Draw"&&e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==1,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:"X",price:s[t].price},s[t].id)})),Object.keys(s).map(t=>e.jsx(e.Fragment,{children:s[t].name=="W2"&&e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==2,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:"2",price:s[t].price},s[t].id)}))]})]})}function Ie({events:s,game_infor:u,event_infor:n}){const{onPressGameOddHighlighter:d,isEventIdExistInBetSlip:p}=B(),{id:g,start_ts:i,strong_team:_,team1_name:l,team2_name:f}=u,{market_name:h,market_id:a,market_type:m}=n;function x(t){d(t)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"12",title:"Double Chance"}),e.jsxs("div",{className:"flex items-center w-full",children:[Object.keys(s).map(t=>e.jsx(e.Fragment,{children:s[t].name=="1X"&&e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==1,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:"1X",price:s[t].price},s[t].id)})),Object.keys(s).map(t=>e.jsx(e.Fragment,{children:s[t].name=="12"&&e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==1,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:"12",price:s[t].price},s[t].id)})),Object.keys(s).map(t=>e.jsx(e.Fragment,{children:s[t].name=="X2"&&e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==2,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:"X2",price:s[t].price},s[t].id)}))]})]})}function Me({eventsArr:s,game_infor:u}){const{onPressGameOddHighlighter:n,isEventIdExistInBetSlip:d}=B(),{id:p,start_ts:g,strong_team:i,team1_name:_,team2_name:l,market_type:f}=u;function h(a){n(a)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"OverUnder",title:"Over/Under"}),e.jsx("div",{className:"flex flex-col items-center w-full gap-1",children:s.map(a=>e.jsx("div",{className:"flex w-full",children:Object.keys(a==null?void 0:a.event).map(m=>{const x=a==null?void 0:a.event[m].type,t=a==null?void 0:a.event[m].base;return e.jsx(C,{isHighLighted:d(m),isStrongTeam:!1,onSelectedCallBack:()=>{const r={market_id:a==null?void 0:a.id,game_id:p,selection:a==null?void 0:a.event[m].name,market_price:a==null?void 0:a.event[m].price,home_team:_,away_team:l,competition:"",start_time:g,event_id:m,sport_name:"",region_name:"",market_name:f};h(r)},name:x==="Over"?`O(${t})`:`U(${t})`,price:a==null?void 0:a.event[m].price},a==null?void 0:a.event[m].id)})}))})]})}function Ge({events:s,game_infor:u,event_infor:n}){const{onPressGameOddHighlighter:d,isEventIdExistInBetSlip:p}=B(),{id:g,start_ts:i,strong_team:_,team1_name:l,team2_name:f}=u,{market_name:h,market_id:a,market_type:m}=n;function x(t){d(t)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"BTTS",title:"Both Teams To Score"}),e.jsx("div",{className:"flex items-center w-full",children:Object.keys(s).map(t=>e.jsx(C,{isHighLighted:p(s[t].id),isStrongTeam:_==1,onSelectedCallBack:()=>{const r={market_id:a,game_id:g,selection:s[t].name,market_price:s[t].price,home_team:l,away_team:f,competition:"",start_time:i,event_id:t,sport_name:"",region_name:"",market_name:h};x(r)},name:s[t].name.toUpperCase(),price:s[t].price},s[t].id))})]})}function Fe({eventsArr:s,game_infor:u}){const{onPressGameOddHighlighter:n,isEventIdExistInBetSlip:d}=B(),{id:p,start_ts:g,strong_team:i,team1_name:_,team2_name:l,market_type:f}=u;function h(a){n(a)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"HalfTimeOverUnder",title:"1Half Over/Under"}),e.jsx("div",{className:"flex flex-col items-center w-full gap-1",children:s.map(a=>e.jsx("div",{className:"flex w-full",children:Object.keys(a==null?void 0:a.event).map(m=>{const x=a==null?void 0:a.event[m].type,t=a==null?void 0:a.event[m].base;return e.jsx(C,{isHighLighted:d(m),isStrongTeam:!1,onSelectedCallBack:()=>{const r={market_id:a==null?void 0:a.id,game_id:p,selection:a==null?void 0:a.event[m].name,market_price:a==null?void 0:a.event[m].price,home_team:_,away_team:l,competition:"",start_time:g,event_id:m,sport_name:"",region_name:"",market_name:f};h(r)},name:x==="Over"?`O(${t})`:`U(${t})`,price:a==null?void 0:a.event[m].price},a==null?void 0:a.event[m].id)})}))})]})}const Re=[{id:1,market:"All",alias:"All"},{id:2,market:"MatchResult",alias:"1X2"},{id:3,market:"Over/Under",alias:"O/U"},{id:4,market:"DoubleChance",alias:"12"},{id:5,market:"TotalGoals",alias:"Goals"}];function be({requestGetGameDetails:s}){var F,R,A,X,$,z,W,Y,Q,V,J,Z,P,y,j,q,D,K,b,v,O,ee,ie,te,ae,se,re;const u=Ee(),{tempSwarmData:n,getSingleGame:d,setGetGameDetailsParams:p,setSingleLiveGamesUpdateKey:g}=w.useContext(He),[i,_]=w.useState(null),[l,f]=Se(),[h,a]=w.useState(l.get("markt_type")),m=()=>{I.isNil(n)||s(r)};let x=1,t=1;const[r,M]=w.useState({region_id:Number(l.get("reg_id")),competition_id:Number(l.get("compt_id")),game_id:Number(l.get("game_id")),market_type:l.get("markt_type")}),pe=o=>{a(o),xe(o)},xe=o=>{l.has("markt_type")&&(l.set("markt_type",o),f(l))},G=(o,c)=>{const N=[];return o&&c&&Object.keys(o.market).map(k=>{o.market[k].market_type===c&&N.push(o.market[k])}),N};return w.useEffect(()=>{M({...r,region_id:Number(l.get("reg_id")),competition_id:Number(l.get("compt_id")),game_id:Number(l.get("game_id")),market_type:l.get("markt_type")})},[l,M]),w.useEffect(()=>{n&&(console.log("i have executed the get single games......."),p(r))},[]),w.useEffect(()=>{var o,c,N,k,U,L,S,T,H,oe,ce,ne,le,me;if(n&&!d&&p(r),n&&d){const _e=(k=(N=(c=(o=n==null?void 0:n.data)==null?void 0:o.sport[1])==null?void 0:c.region[r==null?void 0:r.region_id])==null?void 0:N.competition[r==null?void 0:r.competition_id])==null?void 0:k.game[r==null?void 0:r.game_id],fe=(L=(U=n==null?void 0:n.data)==null?void 0:U.sport[1])==null?void 0:L.alias,he=(H=(T=(S=n==null?void 0:n.data)==null?void 0:S.sport[1])==null?void 0:T.region[r==null?void 0:r.region_id])==null?void 0:H.alias,ge=(le=(ne=(ce=(oe=n==null?void 0:n.data)==null?void 0:oe.sport[1])==null?void 0:ce.region[r==null?void 0:r.region_id])==null?void 0:ne.competition[r==null?void 0:r.competition_id])==null?void 0:le.name,ue=fe+"/"+he+"/"+ge,ke={game:_e,details:(me=d==null?void 0:d.data)==null?void 0:me.game[r==null?void 0:r.game_id],gameRoute:ue};_(ke)}},[n,d]),console.log(i,"this game details......"),e.jsxs("div",{className:"flex flex-col flex-1 h-full bg-gray-200",children:[!n&&e.jsx(Ue,{animation:"wave",variant:"triangular",height:40,width:"100%"}),i&&e.jsxs("header",{className:"flex items-center font-poppins justify-between bg-gray-700 text-white text-opacity-60 h-[50px] px-2 space-x-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>u("/castle-site?page=home"),className:"text-[15px] outline-none",children:e.jsx(Ne,{})}),e.jsx("div",{className:"flex items-center text-[12px]",children:e.jsx("span",{children:i==null?void 0:i.gameRoute})})]}),((R=(F=i==null?void 0:i.details)==null?void 0:F.info)==null?void 0:R.current_game_state)!=="notstarted"&&e.jsx("div",{children:e.jsx(Be,{isPlaying:!0,size:25,strokeWidth:2,duration:10,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],onComplete:()=>(m(),{shouldRepeat:!0,delay:1}),children:({remainingTime:o})=>e.jsx("span",{className:"text-[11px] text-white font-medium",children:o})})})]}),!d&&n&&e.jsx("div",{className:"flex items-center justify-center h-[400px]",children:e.jsx(de,{color:"#0E76BC",size:20})}),d&&n&&e.jsxs("section",{className:"flex flex-col flex-1 px-2 pt-2 overflow-y-scroll",children:[I.isNil(i==null?void 0:i.details)&&e.jsx("div",{className:"flex items-center justify-center h-[400px]",children:e.jsx(de,{color:"#0E76BC",size:20})}),!I.isNil(i==null?void 0:i.details)&&e.jsxs("div",{className:"mb-5 h-[400px] sm:h-full",children:[e.jsxs("div",{className:"flex flex-col mx-2 my-1 font-poppins ",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[14px] font-medium",children:[e.jsx("span",{className:"text-mediumYellowColor text-[13px]",children:(X=(A=i==null?void 0:i.details)==null?void 0:A.info)==null?void 0:X.score1}),e.jsx("p",{className:"text-[#03396c]",children:($=i==null?void 0:i.details)==null?void 0:$.team1_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#03396c] text-[14px] font-medium",children:[e.jsx("span",{className:" text-mediumYellowColor text-[13px]",children:(W=(z=i==null?void 0:i.details)==null?void 0:z.info)==null?void 0:W.score2}),e.jsx("p",{className:"",children:(Y=i==null?void 0:i.details)==null?void 0:Y.team2_name})]}),((V=(Q=i==null?void 0:i.details)==null?void 0:Q.info)==null?void 0:V.current_game_state)!=="notstarted"&&e.jsxs("div",{className:"flex items-center justify-between text-[12px] my-2 gap-1 font-medium text-red-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:e.jsx(Te,{})}),e.jsxs("span",{className:"text-[13px]",children:[(Z=(J=i==null?void 0:i.details)==null?void 0:J.info)==null?void 0:Z.current_game_time,"'(Live)"]})]}),e.jsxs("div",{className:"text-mediumYellowColor",children:[((y=(P=i==null?void 0:i.details)==null?void 0:P.info)==null?void 0:y.current_game_state)==="set1"&&e.jsx("span",{children:"1-Half"}),((q=(j=i==null?void 0:i.details)==null?void 0:j.info)==null?void 0:q.current_game_state)==="set2"&&e.jsx("span",{children:"2-Half"}),((K=(D=i==null?void 0:i.details)==null?void 0:D.info)==null?void 0:K.current_game_state)!=="set2"&&((v=(b=i==null?void 0:i.details)==null?void 0:b.info)==null?void 0:v.current_game_state)!=="set1"&&e.jsx("span",{children:(ee=(O=i==null?void 0:i.details)==null?void 0:O.info)==null?void 0:ee.current_game_state})]})]}),((te=(ie=i==null?void 0:i.details)==null?void 0:ie.info)==null?void 0:te.current_game_state)==="notstarted"&&e.jsx("span",{className:"text-[11px] text-[#5c5c5c] capitalize",children:(se=(ae=i==null?void 0:i.details)==null?void 0:ae.info)==null?void 0:se.current_game_state}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex items-center gap-1 text-[12px] text-primaryColor hover:underline cursor-pointer",children:[e.jsx("span",{children:e.jsx(Ce,{})}),e.jsx("p",{children:"Stats"})]})})]}),e.jsx("div",{className:"flex items-center gap-2 text-[11px] font-poppins ",children:e.jsx("div",{className:"flex items-center justify-between w-[100%] px-1",children:Re.map((o,c)=>e.jsx("div",{onClick:()=>pe(o==null?void 0:o.alias),className:`cursor-pointer border-[1px] px-1 h-[30px] text-[12px] w-[70px] rounded-full flex items-center justify-center ${(o==null?void 0:o.alias)==h?"b bg-gray-800  text-white hover:text-white hover:bg-opacity-100":" border-gray-700 text-primaryColor"} `,children:e.jsx("span",{children:o==null?void 0:o.alias})},o==null?void 0:o.id))})}),e.jsx("div",{className:"flex flex-col gap-2 mx-2 mt-5",children:(i==null?void 0:i.details)&&e.jsx(e.Fragment,{children:Object.keys((re=i==null?void 0:i.details)==null?void 0:re.market).map(o=>{var T;const c=(T=i==null?void 0:i.details)==null?void 0:T.market[o],{name:N,type:k}=c,{info:U,market:L,...S}=i==null?void 0:i.details;if((c==null?void 0:c.market_type)==="MatchResult")return e.jsx(Le,{events:c==null?void 0:c.event,game_infor:{...S},event_infor:{market_name:N,market_id:o,market_type:k}},o);if((c==null?void 0:c.market_type)==="DoubleChance")return e.jsx(Ie,{events:c==null?void 0:c.event,game_infor:{...S},event_infor:{market_name:N,market_id:o,market_type:k}},o);if((c==null?void 0:c.market_type)==="BothTeamsToScore")return e.jsx(Ge,{events:c==null?void 0:c.event,game_infor:{...S},event_infor:{market_name:N,market_id:o,market_type:k}},o);if((c==null?void 0:c.market_type)==="HalfTimeOverUnder"&&t==1){t+=1;const H=G(i==null?void 0:i.details,"HalfTimeOverUnder");return console.log(H,"the half time bet......"),e.jsx(Fe,{eventsArr:H,game_infor:{market_type:k,...S}},o)}else if((c==null?void 0:c.market_type)==="OverUnder"&&x==1){x+=1;const H=G(i==null?void 0:i.details,"OverUnder");return e.jsx(Me,{eventsArr:H,game_infor:{market_type:k,...S}},o)}})})})]})]})]})}export{be as default};
