import{r as l,W as S,j as e,a as R}from"./app-Bdz8U-JN.js";import{A as _}from"./AdminLayout-BEv1yfu3.js";import{T as c,I as p}from"./TextInput-CeU4glsG.js";import{I as r}from"./InputLabel-BPF4v9ZX.js";import{P as N}from"./PrimaryButton-DekYmlo9.js";import{T as k}from"./index-D38Vun6w.js";import{M as j}from"./index-DXAxeEQu.js";import"./Dropdown-ByUF5YLp.js";import"./transition-B7TXYEI3.js";import"./index-3s6h75TQ.js";import"./iconBase-1NaSG4wA.js";import"./index-5uflDiLC.js";import"./index-KcG-XtG0.js";import"./index-DfpGWnH-.js";import"./index-BT-Uq5RZ.js";import"./index-B2V79RLg.js";function q({roles:w,permissions:b}){const[n,d]=l.useState([]),[a,u]=l.useState([]),{data:t,setData:x,post:g,processing:C,errors:i,reset:P,recentlySuccessful:A}=S({mobile_number:"",password:"",confirm_password:"",region:"ZM",roles:[],permissions:[]}),m=s=>{x(s.target.name,s.target.value)},y=s=>{s.preventDefault(),g(route("users.store"))},f=s=>{const h=[];return s.length>0&&s.map(o=>h.push({label:o==null?void 0:o.name,value:o==null?void 0:o.name,name:o==null?void 0:o.name})),h};return l.useEffect(()=>{x({...t,permissions:n,roles:a})},[a,n]),e.jsx(_,{children:e.jsx("div",{children:e.jsxs("div",{className:"w-full md:max-w-[1080px] mx-auto mt-8",children:[e.jsx(R,{href:route("users.index"),children:e.jsx("div",{className:"w-[40px] text-[25px] text-white rounded-full bg-opacity-60 flex items-center justify-center h-[40px] bg-slate-500",children:e.jsx(k,{})})}),e.jsxs("form",{onSubmit:y,className:"max-w-[400px] mt-4 space-y-4",children:[e.jsxs("div",{className:"",children:[e.jsx(r,{children:"Username"}),e.jsx(c,{id:"mobile_number",type:"text",name:"mobile_number",value:t.name,placeholder:"mobile number",className:"block w-full mt-1 mb-3",autoComplete:"phone",isFocused:!0,onChange:m}),e.jsx(p,{message:i.mobile_number}),e.jsx(r,{children:"Password"}),e.jsx(c,{id:"password",type:"password",name:"password",value:t.password,placeholder:"password",className:"block w-full mt-1 mb-3",autoComplete:"password",isFocused:!0,onChange:m}),e.jsx(p,{message:i.password}),e.jsx(r,{children:"confirm password"}),e.jsx(c,{id:"confirm_password",type:"password",name:"confirm_password",value:t.confirm_password,placeholder:"password",className:"block w-full mt-1 mb-2",autoComplete:"password",isFocused:!0,onChange:m}),e.jsx(p,{message:i.confirm_password})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Assign roles"}),e.jsx(j,{displayValue:"name",onKeyPressFn:function(){},onRemove:u,onSearch:function(){},onSelect:u,options:f(w),selectedValues:a})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Assign permissions"}),e.jsx(j,{displayValue:"value",onKeyPressFn:function(){},onRemove:d,onSearch:function(){},onSelect:d,options:f(b),selectedValues:n})]}),e.jsx("div",{className:"",children:e.jsx(N,{disabled:C,children:"Create"})})]})]})})})}export{q as default};
