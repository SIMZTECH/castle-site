import{r as o,l as b,j as e}from"./app-r8XvK69h.js";import"./SwarmDataContext-CrAlUiX0.js";import{u as h,L as p}from"./index-DB5vtFC6.js";import y from"./PopupBox-B5OqJk0x.js";import{a as j}from"./UserAuthenticationContext-DOfhghB8.js";import{a as w}from"./index-BCf6WEWb.js";import{H as N}from"./HashLoader-oyD9OkyJ.js";import"./index-BvqTu_aC.js";import"./iconBase-BHsM4znX.js";import"./index-DhAB4uQs.js";import"./animation-RB9YhObT.js";function q({loginCallBackHandler:m,authStatus:s}){const d=w(),{authUser:n}=o.useContext(j);h();const[l,i]=o.useState(!1),[c,a]=o.useState(!1),[r,u]=o.useState({username:"",password:""}),x=async t=>{u({...r,[t.target.name]:t.target.value})},f=async t=>{t.preventDefault(),i(!0),m(r)},g=t=>{a(t)};return o.useEffect(()=>{if(s){i(!1),a(!0),s!=null&&s.auth_token&&!b.isNil(n==null?void 0:n.auth_token)&&setTimeout(()=>{d("/?page=profile")},500);return}},[s]),o.useEffect(()=>{a(!1)},[n]),e.jsxs("div",{className:"w-full p-4 pt-8 bg-gray-50 sm:",children:[!c&&e.jsxs("section",{className:"p-3 my-3 border sm:max-w-[450px] sm:mx-auto rounded-md bg-white w-full",children:[e.jsxs("form",{onSubmit:f,className:"flex flex-col pt-4 pb-8 font-poppins",children:[e.jsxs("div",{className:"flex flex-col text-[12px] text-[#5c5c5c] mb-3",children:[e.jsx("label",{htmlFor:"phone",children:"Mobile Number"}),e.jsx("input",{name:"username",id:"phone",type:"text",onChange:x,value:r==null?void 0:r.username,required:!0,className:"bg-gray-50 border border-gray-300 text-gray-600 text-sm outline-none rounded-lg focus:ring-1 focus:ring-gray-800 focus:border-gray-800 block w-full p-2.5"})]}),e.jsxs("div",{className:"flex flex-col text-[12px] text-[#5c5c5c] mb-3",children:[e.jsx("label",{htmlFor:"phone",children:"Password (Min-4)"}),e.jsx("input",{name:"password",id:"password",onChange:x,type:"password",required:!0,value:r==null?void 0:r.password,className:"bg-gray-50 border border-gray-300 text-gray-600 text-sm outline-none rounded-lg focus:ring-1 focus:ring-gray-800 focus:border-gray-800 block w-full p-2.5"})]}),e.jsx("button",{disabled:l,className:"w-full text-[14px] h-[35px] flex items-center justify-center text-center active:scale-95 text-white bg-gray-800 rounded-md",children:l?e.jsx(N,{size:20,color:"white"}):"LOGIN"})]}),e.jsx(p,{to:"/?page=password-reset",children:e.jsx("p",{className:"my-1 text-center rounded-md text-gray-800 border font-extrabold hover:underline h-[35px] flex items-center justify-center",children:"RESET PASSWORD"})}),e.jsxs("p",{className:"text-[13px] text-center text-black",children:["Don't have an account?",e.jsx(p,{className:"text-[12px] hover:underline text-gray-800 font-extrabold",to:"/?page=register",children:"JOIN NOW"})]})]}),e.jsx(y,{isOpen:c,onClose:g,response:s})]})}export{q as default};
