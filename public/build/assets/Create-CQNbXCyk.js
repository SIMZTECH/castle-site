import{r as l,W as S,j as e,a as R}from"./app-CvnXDNqH.js";import{A as _}from"./AdminLayout-BssCtX9X.js";import{T as c,I as p}from"./TextInput-CHs0Lnur.js";import{I as r}from"./InputLabel-DrNi6Pwa.js";import{P as N}from"./PrimaryButton-DyTl7wgh.js";import{T as k}from"./index-_l9Kf6Ul.js";import{M as j}from"./index-DUfaqzCG.js";import"./Dropdown-DJtZ-6rc.js";import"./transition-CHpg7afy.js";import"./index-1zygdKgz.js";import"./iconBase-709gmDFl.js";import"./index-Chbva42Y.js";import"./index-1k-Oawyf.js";import"./index-C48BZS1h.js";import"./index-HSfTtyqq.js";import"./index-DHLaGtTn.js";function q({roles:w,permissions:b}){const[n,d]=l.useState([]),[a,u]=l.useState([]),{data:t,setData:x,post:g,processing:C,errors:i,reset:P,recentlySuccessful:A}=S({mobile_number:"",password:"",confirm_password:"",region:"ZM",roles:[],permissions:[]}),m=s=>{x(s.target.name,s.target.value)},y=s=>{s.preventDefault(),g(route("users.store"))},f=s=>{const h=[];return s.length>0&&s.map(o=>h.push({label:o==null?void 0:o.name,value:o==null?void 0:o.name,name:o==null?void 0:o.name})),h};return l.useEffect(()=>{x({...t,permissions:n,roles:a})},[a,n]),e.jsx(_,{children:e.jsx("div",{children:e.jsxs("div",{className:"w-full md:max-w-[1080px] mx-auto mt-8",children:[e.jsx(R,{href:route("users.index"),children:e.jsx("div",{className:"w-[40px] text-[25px] text-white rounded-full bg-opacity-60 flex items-center justify-center h-[40px] bg-slate-500",children:e.jsx(k,{})})}),e.jsxs("form",{onSubmit:y,className:"max-w-[400px] mt-4 space-y-4",children:[e.jsxs("div",{className:"",children:[e.jsx(r,{children:"Username"}),e.jsx(c,{id:"mobile_number",type:"text",name:"mobile_number",value:t.name,placeholder:"mobile number",className:"block w-full mt-1 mb-3",autoComplete:"phone",isFocused:!0,onChange:m}),e.jsx(p,{message:i.mobile_number}),e.jsx(r,{children:"Password"}),e.jsx(c,{id:"password",type:"password",name:"password",value:t.password,placeholder:"password",className:"block w-full mt-1 mb-3",autoComplete:"password",isFocused:!0,onChange:m}),e.jsx(p,{message:i.password}),e.jsx(r,{children:"confirm password"}),e.jsx(c,{id:"confirm_password",type:"password",name:"confirm_password",value:t.confirm_password,placeholder:"password",className:"block w-full mt-1 mb-2",autoComplete:"password",isFocused:!0,onChange:m}),e.jsx(p,{message:i.confirm_password})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Assign roles"}),e.jsx(j,{displayValue:"name",onKeyPressFn:function(){},onRemove:u,onSearch:function(){},onSelect:u,options:f(w),selectedValues:a})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Assign permissions"}),e.jsx(j,{displayValue:"value",onKeyPressFn:function(){},onRemove:d,onSearch:function(){},onSelect:d,options:f(b),selectedValues:n})]}),e.jsx("div",{className:"",children:e.jsx(N,{disabled:C,children:"Create"})})]})]})})})}export{q as default};
