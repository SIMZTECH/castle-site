import{d as u,r as p,l as V,j as r}from"./app-CRC_HCL3.js";import{s as D}from"./DataStoreTemp-1olddnbH.js";import{e as U}from"./index-Bi1iTqyb.js";import{u as Y}from"./index-DmpJc7lb.js";import{u as $,a as J}from"./animation-6cYxsNWS.js";import{S as Q}from"./Skeleton-DjqmHsVV.js";import"./iconBase-D1VTUtoT.js";import"./index-B8F43R27.js";var z={},S={};Object.defineProperty(S,"__esModule",{value:!0});S.calculateRgba=void 0;var F;(function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"})(F||(F={}));var X=function(e,t){if(Object.keys(F).includes(e)&&(e=F[e]),e[0]==="#"&&(e=e.slice(1)),e.length===3){var c="";e.split("").forEach(function(n){c+=n,c+=n}),e=c}var a=(e.match(/.{2}/g)||[]).map(function(n){return parseInt(n,16)}).join(", ");return"rgba(".concat(a,", ").concat(t,")")};S.calculateRgba=X;var O=u&&u.__assign||function(){return O=Object.assign||function(e){for(var t,c=1,a=arguments.length;c<a;c++){t=arguments[c];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},O.apply(this,arguments)},C=u&&u.__createBinding||(Object.create?function(e,t,c,a){a===void 0&&(a=c);var n=Object.getOwnPropertyDescriptor(t,c);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[c]}}),Object.defineProperty(e,a,n)}:function(e,t,c,a){a===void 0&&(a=c),e[a]=t[c]}),B=u&&u.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ee=u&&u.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var c in e)c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)&&C(t,e,c);return B(t,e),t},te=u&&u.__rest||function(e,t){var c={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(c[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(c[a[n]]=e[a[n]]);return c};Object.defineProperty(z,"__esModule",{value:!0});var A=ee(p),ae=S,j=$,K=J;function ne(e){var t=e.loading,c=t===void 0?!0:t,a=e.color,n=a===void 0?"#000000":a,h=e.speedMultiplier,x=h===void 0?1:h,b=e.cssOverride,y=b===void 0?{}:b,g=e.size,f=g===void 0?50:g,w=te(e,["loading","color","speedMultiplier","cssOverride","size"]),_=(0,j.parseLengthAndUnit)(f),m=_.value,N=_.unit,P=O({display:"inherit",position:"relative",width:(0,j.cssValue)(f),height:(0,j.cssValue)(f),transform:"rotate(165deg)"},y),s=m/5,l=(m-s)/2,o=l-s,d=(0,ae.calculateRgba)(n,.75),M=(0,K.createAnimation)("HashLoader","0% {width: ".concat(s,"px; box-shadow: ").concat(l,"px ").concat(-o,"px ").concat(d,", ").concat(-l,"px ").concat(o,"px ").concat(d,`}
    35% {width: `).concat((0,j.cssValue)(f),"; box-shadow: 0 ").concat(-o,"px ").concat(d,", 0 ").concat(o,"px ").concat(d,`}
    70% {width: `).concat(s,"px; box-shadow: ").concat(-l,"px ").concat(-o,"px ").concat(d,", ").concat(l,"px ").concat(o,"px ").concat(d,`}
    100% {box-shadow: `).concat(l,"px ").concat(-o,"px ").concat(d,", ").concat(-l,"px ").concat(o,"px ").concat(d,"}"),"before"),E=(0,K.createAnimation)("HashLoader","0% {height: ".concat(s,"px; box-shadow: ").concat(o,"px ").concat(l,"px ").concat(n,", ").concat(-o,"px ").concat(-l,"px ").concat(n,`}
    35% {height: `).concat((0,j.cssValue)(f),"; box-shadow: ").concat(o,"px 0 ").concat(n,", ").concat(-o,"px 0 ").concat(n,`}
    70% {height: `).concat(s,"px; box-shadow: ").concat(o,"px ").concat(-l,"px ").concat(n,", ").concat(-o,"px ").concat(l,"px ").concat(n,`}
    100% {box-shadow: `).concat(o,"px ").concat(l,"px ").concat(n,", ").concat(-o,"px ").concat(-l,"px ").concat(n,"}"),"after"),v=function(T){return{position:"absolute",top:"50%",left:"50%",display:"block",width:"".concat(m/5).concat(N),height:"".concat(m/5).concat(N),borderRadius:"".concat(m/10).concat(N),transform:"translate(-50%, -50%)",animationFillMode:"none",animation:"".concat(T===1?M:E," ").concat(2/x,"s infinite")}};return c?A.createElement("span",O({style:P},w),A.createElement("span",{style:v(1)}),A.createElement("span",{style:v(2)})):null}var re=z.default=ne;function me({value:e,user:t}){var H,L,R,k;const{setGetDepositParams:c,getPaymentResponse:a,setGetPaymentResponse:n,tempSwarmData:h}=p.useContext(D),[x,b]=Y(),[y,g]=p.useState(!1),[f,w]=p.useState(!1),[_,m]=p.useState(!1),[N,P]=p.useState(null),[s,l]=p.useState(null);p.useState({payment_id:Number(x.get("payment_id"))});const[o,d]=p.useState({amount:0,phone:"",user_id:t==null?void 0:t.user_id,password:"7782"}),M=i=>{E(i)},E=i=>{x.has("filter")&&(x.set("filter",i),b(x)),x.has("payment_id")&&(x.delete("payment_id"),b(x))},v=async i=>{d({...o,[i.target.name]:i.target.value})},T=i=>{g(!0),c({...i})},I=async i=>{i.preventDefault();const{user_id:q,currency:G,payment_services:{deposit:W}}=t,{PaymentSystem_id:oe,displayName:Z}=W["MTN Deposit"];T({amount:Number(o==null?void 0:o.amount),currency:G,service:Z,customer_id:String(q),customer_password:String(o==null?void 0:o.password)})};return p.useEffect(()=>{var i;t&&l((i=t==null?void 0:t.payment_services)==null?void 0:i.deposit["MTN Deposit"])},[t]),p.useEffect(()=>(V.isNil(a)||(g(!1),P(a),(a==null?void 0:a.result)!="OK"&&(w(!0),setTimeout(()=>{w(!1)},2e3)),(a==null?void 0:a.result)=="OK"&&(m(!0),setTimeout(()=>{m(!1)},2e3))),()=>n(null)),[a]),r.jsxs("section",{className:"flex flex-col flex-1 h-full bg-white",children:[!h&&r.jsx(Q,{variant:"rectangular",animation:"wave",height:"40px"}),h&&t&&r.jsx("header",{className:" font-poppins border-b-[1px] pb-2 px-2 py-4 text-[#27393f] ",children:r.jsxs("button",{onClick:()=>M("All"),className:"flex items-center gap-1 outline-none",children:[r.jsx("span",{children:r.jsx(U,{})}),r.jsx("p",{className:"text-[14px]",children:"Select different payment system"})]})}),h&&t&&r.jsxs("div",{className:"flex-1 px-2 pt-2 pb-4 sm:max-w-[500px] mx-auto",children:[r.jsxs("h3",{className:"text-[14px] text-black select-none",children:["You have selected to deposit using"," ",r.jsx("span",{className:"text-[14px] font-medium",children:e})]}),r.jsx("p",{className:"text-[12px] w-full sm:w-3/4 mt-1 select-none text-gray-600 font-sans",children:"To successfully deposit money into your castlebet account, please enter the amount and wait for a confirmation on your mobile phone"}),r.jsxs("form",{onSubmit:I,className:"w-full pt-2 mb-5",children:[r.jsxs("div",{className:"w-full mb-2 transition-transform duration-100 ease-in-out select-none",children:[f&&r.jsx("p",{className:"text-[11px] p-2  font-sans rounded-md border-[1px] border-red-300 bg-red-100 text-red-600",children:"Failed to make a deposit, something went wrong"}),_&&r.jsx("p",{className:"text-[11px] p-2 text-gray-900 font-sans rounded-md border-[1px] border-green-300 bg-green-100",children:"A deposit request trigger has beeing sucessfully sent to your phone...."})]}),r.jsxs("div",{className:"flex flex-col mb-3",children:[r.jsxs("label",{className:"block text-[12px] text-sm text-gray-800",htmlFor:"phone",children:["Enter ",e," number"]}),r.jsx("input",{className:`bg-gray-50 border border-gray-300  rounded-lg  placeholder:text-[13px]
                             block w-full p-2.5 `,name:"phone",type:"text",id:"phone",value:o==null?void 0:o.phone,onChange:v,placeholder:"+26096 0r +26076"})]}),r.jsxs("div",{className:"flex flex-col mb-3",children:[r.jsx("label",{className:"block text-sm text-gray-900 dark:text-white",htmlFor:"amount",children:"Amount"}),r.jsxs("div",{className:"flex",children:[r.jsx("span",{className:"inline-flex items-center px-3 text-sm text-gray-800 bg-gray-200 border border-gray-300 border-e-0 rounded-s-md",children:"K"}),r.jsx("input",{className:"rounded-none rounded-e-lg bg-gray-50 border border-gray-300 placeholder:text-[13px] block w-full p-2.5 ",name:"amount",type:"Number",id:"amount",value:o==null?void 0:o.amount,onChange:v})]}),r.jsxs("p",{className:"text-[11px] py-1 text-[#27393f] text-opacity-70",children:["K",(L=(H=s==null?void 0:s.info_notes)==null?void 0:H.ZMW)==null?void 0:L.min," - K",(k=(R=s==null?void 0:s.info_notes)==null?void 0:R.ZMW)==null?void 0:k.max]})]}),r.jsxs("button",{disabled:y,className:"w-full bg-black h-[40px] rounded-md text-white flex items-center justify-center text-[13px] active:scale-95",children:[y&&r.jsx("span",{children:r.jsx(re,{color:"white",size:20})}),!y&&r.jsx("span",{children:"Deposit"})]}),r.jsx("p",{className:"sm:w-3/4 w-full mt-2 text-[12px] text-[#27393f] text-opacity-70",children:"Ensure to confirm the deposit request from your mobile phone to successfully complete the deposit process"})]}),V.isNil(s==null?void 0:s.infotext)&&r.jsxs("div",{className:"px-2 text-gray-900 font-poppins",children:[r.jsx("p",{className:"py-1 border-b-[1px]",children:"HOW TO DEPOSIT"}),r.jsx("div",{})]})]})]})}export{me as default};
