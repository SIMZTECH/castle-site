import{j as e,r as T,l as pe}from"./app-r8XvK69h.js";import"./SwarmDataContext-CrAlUiX0.js";import{b as Se}from"./index-DsOsJtub.js";import{c as He}from"./index-DhAB4uQs.js";import"./BetSlipContext-DcjUfPjE.js";import{u as Te}from"./index-DB5vtFC6.js";import{s as Be}from"./DataStoreTemp-D60g7j7S.js";import{a as we}from"./index-Dul_ih0x.js";import{M as w,E as C}from"./MarketHandlerUtilities-BPKOhKIv.js";import{L as Ee}from"./index-BhW4rTCj.js";import{D as Ue}from"./index.module-CKCr6Tp1.js";import{U as Ge}from"./UtilizedHooks-CHuqxHq9.js";import{a as Ie}from"./index-BCf6WEWb.js";import{S as Le}from"./Skeleton-AYxjryWC.js";import{S as xe}from"./ScaleLoader-CyUJoI2R.js";import"./iconBase-BHsM4znX.js";import"./animation-RB9YhObT.js";function E({title:s,market_type:_}){return e.jsxs("header",{className:"bg-[#0E76BC] text-white flex items-center gap-1 font-poppins text-[12px] px-2 py-2",children:[e.jsxs("p",{className:"flex items-center gap-1 gap",children:[e.jsx("span",{className:"text-[18px]",children:e.jsx(we,{})}),s]}),e.jsx("p",{children:"|"}),e.jsx("span",{children:_})]})}function Me({events:s,game_infor:_,event_infor:g}){const{onPressGameOddHighlighter:k,isEventIdExistInBetSlip:d}=w(),{id:c,start_ts:m,strong_team:f,team1_name:h,team2_name:t}=_,{market_name:p,market_id:i,market_type:l}=g;function x(a){k(a)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"1X2",title:"Match Result"}),e.jsxs("div",{className:"flex items-center w-full",children:[Object.keys(s).map(a=>e.jsx(e.Fragment,{children:s[a].name=="W1"&&e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==1,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:"1",price:s[a].price},s[a].id)})),Object.keys(s).map(a=>e.jsx(e.Fragment,{children:s[a].name=="Draw"&&e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==1,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:"X",price:s[a].price},s[a].id)})),Object.keys(s).map(a=>e.jsx(e.Fragment,{children:s[a].name=="W2"&&e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==2,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:"2",price:s[a].price},s[a].id)}))]})]})}function Re({events:s,game_infor:_,event_infor:g}){const{onPressGameOddHighlighter:k,isEventIdExistInBetSlip:d}=w(),{id:c,start_ts:m,strong_team:f,team1_name:h,team2_name:t}=_,{market_name:p,market_id:i,market_type:l}=g;function x(a){k(a)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"12",title:"Double Chance"}),e.jsxs("div",{className:"flex items-center w-full",children:[Object.keys(s).map(a=>e.jsx(e.Fragment,{children:s[a].name=="1X"&&e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==1,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:"1X",price:s[a].price},s[a].id)})),Object.keys(s).map(a=>e.jsx(e.Fragment,{children:s[a].name=="12"&&e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==1,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:"12",price:s[a].price},s[a].id)})),Object.keys(s).map(a=>e.jsx(e.Fragment,{children:s[a].name=="X2"&&e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==2,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:"X2",price:s[a].price},s[a].id)}))]})]})}function Fe({eventsArr:s,game_infor:_}){const{onPressGameOddHighlighter:g,isEventIdExistInBetSlip:k}=w(),{id:d,start_ts:c,strong_team:m,team1_name:f,team2_name:h,market_type:t}=_;function p(i){g(i)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"OverUnder",title:"Over/Under"}),e.jsx("div",{className:"flex flex-col items-center w-full gap-1",children:s.map(i=>e.jsx("div",{className:"flex w-full",children:Object.keys(i==null?void 0:i.event).map(l=>{const x=i==null?void 0:i.event[l].type,a=i==null?void 0:i.event[l].base;return e.jsx(C,{isHighLighted:k(l),isStrongTeam:!1,onSelectedCallBack:()=>{const r={market_id:i==null?void 0:i.id,game_id:d,selection:i==null?void 0:i.event[l].name,market_price:i==null?void 0:i.event[l].price,home_team:f,away_team:h,competition:"",start_time:c,event_id:l,sport_name:"",region_name:"",market_name:t};p(r)},name:x==="Over"?`O(${a})`:`U(${a})`,price:i==null?void 0:i.event[l].price},i==null?void 0:i.event[l].id)})}))})]})}function Ae({events:s,game_infor:_,event_infor:g}){const{onPressGameOddHighlighter:k,isEventIdExistInBetSlip:d}=w(),{id:c,start_ts:m,strong_team:f,team1_name:h,team2_name:t}=_,{market_name:p,market_id:i,market_type:l}=g;function x(a){k(a)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"BTTS",title:"Both Teams To Score"}),e.jsx("div",{className:"flex items-center w-full",children:Object.keys(s).map(a=>e.jsx(C,{isHighLighted:d(s[a].id),isStrongTeam:f==1,onSelectedCallBack:()=>{const r={market_id:i,game_id:c,selection:s[a].name,market_price:s[a].price,home_team:h,away_team:t,competition:"",start_time:m,event_id:a,sport_name:"",region_name:"",market_name:p};x(r)},name:s[a].name.toUpperCase(),price:s[a].price},s[a].id))})]})}function Xe({eventsArr:s,game_infor:_}){const{onPressGameOddHighlighter:g,isEventIdExistInBetSlip:k}=w(),{id:d,start_ts:c,strong_team:m,team1_name:f,team2_name:h,market_type:t}=_;function p(i){g(i)}return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{market_type:"HalfTimeOverUnder",title:"1Half Over/Under"}),e.jsx("div",{className:"flex flex-col items-center w-full gap-1",children:s.map(i=>e.jsx("div",{className:"flex w-full",children:Object.keys(i==null?void 0:i.event).map(l=>{const x=i==null?void 0:i.event[l].type,a=i==null?void 0:i.event[l].base;return e.jsx(C,{isHighLighted:k(l),isStrongTeam:!1,onSelectedCallBack:()=>{const r={market_id:i==null?void 0:i.id,game_id:d,selection:i==null?void 0:i.event[l].name,market_price:i==null?void 0:i.event[l].price,home_team:f,away_team:h,competition:"",start_time:c,event_id:l,sport_name:"",region_name:"",market_name:t};p(r)},name:x==="Over"?`O(${a})`:`U(${a})`,price:i==null?void 0:i.event[l].price},i==null?void 0:i.event[l].id)})}))})]})}const ze=[{id:1,market:"All",alias:"All"},{id:2,market:"MatchResult",alias:"1X2"},{id:3,market:"Over/Under",alias:"O/U"},{id:4,market:"DoubleChance",alias:"12"},{id:5,market:"TotalGoals",alias:"Goals"}];function tt({requestGetGameDetails:s,socket:_}){var F,A,X,z,$,W,Y,Q,V,J,Z,P,y,j,q,D,K,b,O,v,ee,te,ie,ae,se,re,oe;const g=Ie(),{placeBetRequest:k,getSingleGameDetails:d}=Ge(),{tempSwarmData:c,getSingleGame:m,setGetGameDetailsParams:f,setSingleLiveGamesUpdateKey:h}=T.useContext(Be),[t,p]=T.useState(null),[i,l]=Te(),[x,a]=T.useState(i.get("markt_type")),[r,I]=T.useState({region_id:Number(i.get("reg_id")),competition_id:Number(i.get("compt_id")),game_id:Number(i.get("game_id")),market_type:i.get("markt_type")});let L=1,M=1;const _e=o=>{a(o),fe(o)},fe=o=>{i.has("markt_type")&&(i.set("markt_type",o),l(i))},R=(o,n)=>{const N=[];return o&&n&&Object.keys(o.market).map(u=>{o.market[u].market_type===n&&N.push(o.market[u])}),N};return T.useEffect(()=>{I({...r,region_id:Number(i.get("reg_id")),competition_id:Number(i.get("compt_id")),game_id:Number(i.get("game_id")),market_type:i.get("markt_type")})},[i,I]),T.useEffect(()=>{c&&(console.log("i have executed the get single games......."),d(r,_))},[]),T.useEffect(()=>{var o,n,N,u,U,G,S,B,H,ce,ne,le,me,de;if(c&&!m&&d(r,_),c&&m){const he=(u=(N=(n=(o=c==null?void 0:c.data)==null?void 0:o.sport[1])==null?void 0:n.region[r==null?void 0:r.region_id])==null?void 0:N.competition[r==null?void 0:r.competition_id])==null?void 0:u.game[r==null?void 0:r.game_id],ge=(G=(U=c==null?void 0:c.data)==null?void 0:U.sport[1])==null?void 0:G.alias,ue=(H=(B=(S=c==null?void 0:c.data)==null?void 0:S.sport[1])==null?void 0:B.region[r==null?void 0:r.region_id])==null?void 0:H.alias,ke=(me=(le=(ne=(ce=c==null?void 0:c.data)==null?void 0:ce.sport[1])==null?void 0:ne.region[r==null?void 0:r.region_id])==null?void 0:le.competition[r==null?void 0:r.competition_id])==null?void 0:me.name,Ne=ge+"/"+ue+"/"+ke,Ce={game:he,details:(de=m==null?void 0:m.data)==null?void 0:de.game[r==null?void 0:r.game_id],gameRoute:Ne};p(Ce)}},[c,m]),console.log(t,"this game details......"),e.jsxs("div",{className:"flex flex-col flex-1 h-full",children:[!c&&e.jsx(Le,{animation:"wave",variant:"triangular",height:40,width:"100%"}),t&&e.jsxs("header",{className:"flex items-center font-poppins justify-between bg-gray-200 text-gray-600 text-opacity-60 h-[40px] px-2 space-x-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>g("/?page=home"),className:"text-[18px] outline-none px-2",children:e.jsx(Se,{})}),e.jsx("div",{className:"flex items-center text-[12px]",children:e.jsx("span",{children:t==null?void 0:t.gameRoute})})]}),((A=(F=t==null?void 0:t.details)==null?void 0:F.info)==null?void 0:A.current_game_state)!=="notstarted"&&e.jsx("div",{children:e.jsx(Ue,{isPlaying:!0,size:25,strokeWidth:2,duration:10,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],onComplete:()=>({shouldRepeat:!0,delay:1}),children:({remainingTime:o})=>e.jsx("span",{className:"text-[11px] text-white font-medium",children:o})})})]}),!m&&c&&e.jsx("div",{className:"flex items-center justify-center h-[400px]",children:e.jsx(xe,{color:"#0E76BC",size:20})}),m&&c&&e.jsxs("section",{className:"flex flex-col flex-1 px-2 pt-2 overflow-y-scroll",children:[pe.isNil(t==null?void 0:t.details)&&e.jsx("div",{className:"flex items-center justify-center h-[400px]",children:e.jsx(xe,{color:"#0E76BC",size:20})}),!pe.isNil(t==null?void 0:t.details)&&e.jsxs("div",{className:"mb-5 h-[400px] sm:h-full",children:[e.jsxs("div",{className:"flex flex-col mx-2 my-1 font-poppins ",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[14px] font-medium",children:[e.jsx("span",{className:"text-mediumYellowColor text-[13px]",children:(z=(X=t==null?void 0:t.details)==null?void 0:X.info)==null?void 0:z.score1}),e.jsx("p",{className:"text-[#03396c]",children:($=t==null?void 0:t.details)==null?void 0:$.team1_name})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[#03396c] text-[14px] font-medium",children:[e.jsx("span",{className:" text-mediumYellowColor text-[13px]",children:(Y=(W=t==null?void 0:t.details)==null?void 0:W.info)==null?void 0:Y.score2}),e.jsx("p",{className:"",children:(Q=t==null?void 0:t.details)==null?void 0:Q.team2_name})]}),((J=(V=t==null?void 0:t.details)==null?void 0:V.info)==null?void 0:J.current_game_state)!=="notstarted"&&e.jsxs("div",{className:"flex items-center justify-between text-[12px] my-2 gap-1 font-medium text-red-700",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:e.jsx(Ee,{})}),e.jsxs("span",{className:"text-[13px]",children:[(P=(Z=t==null?void 0:t.details)==null?void 0:Z.info)==null?void 0:P.current_game_time,"'(Live)"]})]}),e.jsxs("div",{className:"text-mediumYellowColor",children:[((j=(y=t==null?void 0:t.details)==null?void 0:y.info)==null?void 0:j.current_game_state)==="set1"&&e.jsx("span",{children:"1-Half"}),((D=(q=t==null?void 0:t.details)==null?void 0:q.info)==null?void 0:D.current_game_state)==="set2"&&e.jsx("span",{children:"2-Half"}),((b=(K=t==null?void 0:t.details)==null?void 0:K.info)==null?void 0:b.current_game_state)!=="set2"&&((v=(O=t==null?void 0:t.details)==null?void 0:O.info)==null?void 0:v.current_game_state)!=="set1"&&e.jsx("span",{children:(te=(ee=t==null?void 0:t.details)==null?void 0:ee.info)==null?void 0:te.current_game_state})]})]}),((ae=(ie=t==null?void 0:t.details)==null?void 0:ie.info)==null?void 0:ae.current_game_state)==="notstarted"&&e.jsx("span",{className:"text-[11px] text-[#5c5c5c] capitalize",children:(re=(se=t==null?void 0:t.details)==null?void 0:se.info)==null?void 0:re.current_game_state}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex items-center gap-1 text-[12px] text-primaryColor hover:underline cursor-pointer",children:[e.jsx("span",{children:e.jsx(He,{})}),e.jsx("p",{children:"Stats"})]})})]}),e.jsx("div",{className:"flex items-center gap-2 text-[11px] font-poppins ",children:e.jsx("div",{className:"flex mx-2 items-center justify-between w-[100%] px-1 gap-2",children:ze.map((o,n)=>e.jsx("div",{onClick:()=>_e(o==null?void 0:o.alias),className:`cursor-pointer text-center basis-1/3 p-2.5 border-b-2 border-b-transparent  text-[13px] ${(o==null?void 0:o.alias)==x?" border-b-gray-800 text-gray-700":" text-gray-500"} `,children:e.jsx("span",{children:o==null?void 0:o.alias})},o==null?void 0:o.id))})}),e.jsx("div",{className:"flex flex-col gap-2 mx-2 mt-5",children:(t==null?void 0:t.details)&&e.jsx(e.Fragment,{children:Object.keys((oe=t==null?void 0:t.details)==null?void 0:oe.market).map(o=>{var B;const n=(B=t==null?void 0:t.details)==null?void 0:B.market[o],{name:N,type:u}=n,{info:U,market:G,...S}=t==null?void 0:t.details;if((n==null?void 0:n.market_type)==="MatchResult")return e.jsx(Me,{events:n==null?void 0:n.event,game_infor:{...S},event_infor:{market_name:N,market_id:o,market_type:u}},o);if((n==null?void 0:n.market_type)==="DoubleChance")return e.jsx(Re,{events:n==null?void 0:n.event,game_infor:{...S},event_infor:{market_name:N,market_id:o,market_type:u}},o);if((n==null?void 0:n.market_type)==="BothTeamsToScore")return e.jsx(Ae,{events:n==null?void 0:n.event,game_infor:{...S},event_infor:{market_name:N,market_id:o,market_type:u}},o);if((n==null?void 0:n.market_type)==="HalfTimeOverUnder"&&M==1){M+=1;const H=R(t==null?void 0:t.details,"HalfTimeOverUnder");return console.log(H,"the half time bet......"),e.jsx(Xe,{eventsArr:H,game_infor:{market_type:u,...S}},o)}else if((n==null?void 0:n.market_type)==="OverUnder"&&L==1){L+=1;const H=R(t==null?void 0:t.details,"OverUnder");return e.jsx(Fe,{eventsArr:H,game_infor:{market_type:u,...S}},o)}})})})]})]})]})}export{tt as default};
