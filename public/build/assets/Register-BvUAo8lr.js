import{r as t,l as n,j as e}from"./app-Bdz8U-JN.js";import{L as y}from"./index-C_RXlj0E.js";import"./SwarmDataContext-BPfnqclp.js";import{f as j}from"./zambia-uSIXTnlC.js";import{U as w}from"./UtilizedHooks-CHuqxHq9.js";import{s as N}from"./DataStoreTemp-dR6HfQ01.js";import{H as v}from"./HashLoader-BrsX1Acl.js";import"./index-D-oKYPRd.js";import"./animation-RB9YhObT.js";function z({socket:u}){const{registerRes:s,setRegisterRes:i}=t.useContext(N),{registerUser:p}=w(),[l,c]=t.useState(!1),[g,d]=t.useState(!1),[f,m]=t.useState(!1),[r,h]=t.useState({username:"",password:"",confirmPassword:"",agreement:!0}),x=()=>r.password===r.confirmPassword,o=async a=>{h({...r,[a.target.name]:a.target.value})},b=async a=>{a.preventDefault(),c(!0),p(r,u)};return t.useEffect(()=>{n.isNil(s)||(c(!1),console.log(s,"i have recieved the response in register"),(s==null?void 0:s.result)==="OK"&&(m(!0),setTimeout(()=>{m(!1),i(null)},2e3)),n.isNil(s==null?void 0:s.result)&&(d(!0),setTimeout(()=>{d(!1),i(null)},2e3)))},[s]),e.jsx("main",{className:"flex flex-col flex-1 h-full px-3 bg-gray-50 ",children:e.jsx("section",{children:e.jsxs("form",{onSubmit:b,className:"flex-1 w-full sm:max-w-[450px] bg-white border mx-auto rounded-md mt-8 p-3 mb-5 shadow-sm",children:[!n.isNil(s)&&e.jsxs("div",{children:[g&&e.jsx("div",{className:"text-red-500 p-2.5 border-[1px] rounded-md ring-red-300 ring-2 bg-red-50 text-center capitalize",children:s==null?void 0:s.msg}),f&&e.jsx("div",{className:"text-green-500 p-2.5 border-[1px] rounded-md ring-green-300 ring-2 bg-green-50 text-center",children:"Registration was usccessfull"})]}),e.jsxs("div",{className:"pt-2 mb-1",children:[e.jsx("label",{for:"username",className:"block mb-1 text-sm font-medium text-[#5c5c5c]",children:"Username"}),e.jsxs("div",{className:"relative ",children:[e.jsx("div",{className:"absolute inset-y-0 flex items-center mr-2 pointer-events-none start-0 ps-2",children:e.jsx("figure",{className:"h-[25px] w-[25]",children:e.jsx("img",{src:j,className:"w-full h-full"})})}),e.jsx("input",{name:"username",type:"username",id:"username",value:r.username,onChange:o,class:"bg-gray-50 border border-gray-300 text-gray-600 text-sm outline-none rounded-lg focus:ring-1 focus:ring-gray-800 focus:border-gray-800 block w-full ps-12 p-2.5",placeholder:"mobile number",required:!0})]}),e.jsx("p",{className:"px-2 text-[#5c5c5c] py-1 text-[13px]",children:"min(10 digits)"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{for:"password",className:"block mb-1 text-sm font-medium text-[#5c5c5c]",children:"Create Password"}),e.jsx("input",{name:"password",type:"password",value:r.password,onChange:o,id:"password",placeholder:"******",className:"bg-gray-50 border border-gray-300 text-gray-600 text-sm outline-none rounded-lg focus:ring-1 focus:ring-gray-800 focus:border-gray-800 block w-full p-2.5",required:!0}),e.jsx("p",{className:"px-2 text-gray-400 py-1 text-[13px]",children:"min(4 digits)"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{for:"confirmPassword",className:"block mb-1 text-sm font-medium text-[#5c5c5c]",children:"Confirm Password"}),e.jsx("input",{name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:o,id:"confirmPassword",placeholder:"******",class:"bg-gray-50 border border-gray-300 text-gray-600 text-sm outline-none rounded-lg focus:ring-1 focus:ring-gray-800 focus:border-gray-800 block w-full p-2.5",required:!0}),x()&&e.jsx("p",{className:"px-2 text-gray-400 text-[13px]",children:"min(4 digits)"}),e.jsx("p",{className:"text-red-500 text-[12px] px-2 h-[10px] items-center",children:e.jsx("span",{className:`${x()?"hidden":"block"}`,children:"Passwords do not match!!!"})})]}),e.jsxs("div",{className:"flex items-start mb-5",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"terms",type:"checkbox",checked:!0,className:"w-4 h-4 bg-gray-900 border border-gray-300 rounded focus:ring-1 focus:ring-gray-800 focus:border-gray-800",required:!0})}),e.jsxs("label",{for:"terms",className:"text-sm font-medium text-[#5c5c5c] ms-2",children:["I agree with the"," ",e.jsx("a",{href:"#",className:"text-gray-900 hover:underline",children:"terms and conditions"})]})]}),e.jsx("button",{disabled:l,className:"w-full text-[14px] h-[35px] flex items-center justify-center text-center active:scale-95 text-white bg-gray-800 rounded-md",children:l?e.jsx(v,{size:25,color:"white"}):"CREATE ACCOUNT"}),e.jsxs("p",{className:"text-[13px] text-center text-black py-1",children:["Already have an account?"," ",e.jsx(y,{className:"text-[12px] font-medium hover:underline text-gray-900",to:"/?page=login",children:"LOGIN"})]})]})})})}export{z as default};
