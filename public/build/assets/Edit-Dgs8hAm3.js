import{r as o,W as N,j as s,a as p}from"./app-CRC_HCL3.js";import{A as b}from"./AdminLayout-DVrza502.js";import{T as w,I as k}from"./TextInput-Ds0TvsjN.js";import{I as E}from"./InputLabel-BHQPIAWf.js";import{P as S}from"./PrimaryButton-Bd_kOapb.js";import{T as C}from"./index-M8SygJ1-.js";import{M as I}from"./index-J934ncpv.js";import{s as a}from"./index-DVATffkL.js";import"./Dropdown-JWkOLIfK.js";import"./transition-DyZYbDg5.js";import"./index-je9m0eT6.js";import"./iconBase-D1VTUtoT.js";import"./index-Bi1iTqyb.js";import"./index-BKmUMxei.js";import"./index-C7AkOTp8.js";import"./index-V9PxsJ7I.js";import"./index-D8bcI3In.js";function J({role:t,permissions:x=[]}){const[n,c]=o.useState(t.permissions),h=(e=[])=>{const i=[];return e&&e.map(r=>{i.push({label:r==null?void 0:r.name,value:r==null?void 0:r.name,name:r==null?void 0:r.name})}),i},{data:m,setData:d,patch:u,processing:l,errors:f,reset:R,recentlySuccessful:T}=N({name:t==null?void 0:t.name,permissions:""}),j=e=>{d(e.target.name,e.target.type==="checkbox"?e.target.checked:e.target.value)},g=e=>{e.preventDefault(),u(a("roles.update",t==null?void 0:t.id))},y=["permission id","permission name","guard name","last modified"];return o.useEffect(()=>{d({...m,permissions:n})},[n]),s.jsx(b,{children:s.jsx("div",{children:s.jsxs("div",{className:"w-full md:max-w-[1080px] mx-auto mt-8",children:[s.jsx(p,{href:a("roles.index"),children:s.jsx("div",{className:"w-[40px] text-[25px] text-white rounded-full bg-opacity-60 flex items-center justify-center h-[40px] bg-slate-500",children:s.jsx(C,{})})}),s.jsxs("form",{onSubmit:g,className:"max-w-[400px] mt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx(E,{children:"Role name"}),s.jsx(w,{id:"name",type:"text",name:"name",value:m.name,placeholder:"role",className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:j}),s.jsx(k,{message:f.name})]}),s.jsx("div",{children:s.jsx(I,{displayValue:"value",onKeyPressFn:function(){},onRemove:c,onSearch:function(){},onSelect:c,options:h(x),selectedValues:n})}),s.jsx("div",{className:"",children:s.jsx(S,{disabled:l,children:"Update"})})]}),s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"relative overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-500 rtl:text-right dark:text-gray-400",children:[s.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:s.jsxs("tr",{children:[s.jsx("th",{scope:"col",className:"px-6 py-3",children:"#NO"}),y.map((e,i)=>s.jsx("th",{scope:"col",className:"px-6 py-3",children:e},i)),s.jsx("th",{scope:"col",className:"px-6 py-3",children:"  "})]})}),s.jsx("tbody",{children:t.permissions.map((e,i)=>s.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700",children:[s.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:i+1}),s.jsx("td",{className:"px-6 py-4",children:e==null?void 0:e.id}),s.jsx("td",{className:"px-6 py-4",children:e==null?void 0:e.name}),s.jsx("td",{className:"px-6 py-4",children:e==null?void 0:e.guard_name}),s.jsx("td",{className:"px-6 py-4",children:e==null?void 0:e.created_at}),s.jsx("td",{className:"flex gap-4 px-6 py-4",children:s.jsx(p,{method:"DELETE",as:"button",href:a("roles.permission.destroy",[t==null?void 0:t.id,e==null?void 0:e.id]),children:"revock"})})]},e==null?void 0:e.id))})]})})})]})})})}export{J as default};
